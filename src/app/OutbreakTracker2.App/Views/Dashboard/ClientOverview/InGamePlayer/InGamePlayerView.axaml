<UserControl
    x:Class="OutbreakTracker2.App.Views.Dashboard.ClientOverview.InGamePlayer.InGamePlayerView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:inGamePlayer="clr-namespace:OutbreakTracker2.App.Views.Dashboard.ClientOverview.InGamePlayer"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:suki="clr-namespace:SukiUI.Controls;assembly=SukiUI"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="inGamePlayer:InGamePlayerViewModel"
    mc:Ignorable="d">

    <suki:GlassCard Margin="5" Padding="10">
        <suki:GroupBox Header="{Binding CharacterName}">
            <StackPanel Spacing="10">

                <!--  Health & Virus Section  -->
                <Grid Margin="0,0,0,10" ColumnDefinitions="Auto, Auto">

                    <!--  Health  -->
                    <suki:GroupBox
                        Grid.Column="0"
                        Margin="5"
                        Header="Health Gauge">
                        <suki:WaveProgress
                            Classes="Success"
                            IsTextVisible="True"
                            Value="{Binding HealthPercentage}" />
                    </suki:GroupBox>

                    <!--  Virus  -->
                    <suki:GroupBox
                        Grid.Column="1"
                        Margin="5"
                        Header="Virus Gauge">
                        <suki:WaveProgress
                            Classes="Danger"
                            IsTextVisible="True"
                            Value="{Binding VirusPercentage}" />
                    </suki:GroupBox>
                </Grid>

                <!--  Status Badges  -->
                <WrapPanel Margin="5" HorizontalAlignment="Left">
                    <ContentControl Content="{Binding ConditionBadge}" />
                    <ContentControl Content="{Binding StatusBadge}" />
                </WrapPanel>

                <!--  Core Stats  -->
                <suki:GroupBox Header="Character Status">
                    <Grid
                        Margin="10"
                        ColumnDefinitions="Auto"
                        RowDefinitions="Auto,Auto,Auto,Auto">
                        <TextBlock
                            Grid.Row="0"
                            Grid.Column="0"
                            Text="{Binding BleedTime, StringFormat='Bleed effect time: {0}'}" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.Column="0"
                            Text="{Binding AntiVirusTime, StringFormat='Antivirus T effect time: {0}'}" />
                        <TextBlock
                            Grid.Row="2"
                            Grid.Column="0"
                            Text="{Binding AntiVirusGTime, StringFormat='Antivirus G effect time: {0}'}" />
                        <TextBlock
                            Grid.Row="3"
                            Grid.Column="0"
                            Text="{Binding HerbTime, StringFormat='Healing item effect time: {0}'}" />
                    </Grid>
                </suki:GroupBox>

                <!--  Attributes & Combat  -->
                <suki:GroupBox Header="Attributes">
                    <Grid
                        Margin="10"
                        ColumnDefinitions="Auto"
                        RowDefinitions="Auto">
                        <StackPanel>
                            <TextBlock Text="{Binding Power, StringFormat='Power: {0:F1}'}" />
                            <TextBlock Text="{Binding CritBonus, StringFormat='Crit Bonus: {0:F2}x'}" />
                            <TextBlock Text="{Binding Speed, StringFormat='Speed: {0:F1}'}" />
                            <TextBlock Text="{Binding Size, StringFormat='Size: {0:F1}'}" />
                        </StackPanel>
                    </Grid>
                </suki:GroupBox>

                <!--  Inventory  -->
                <suki:GroupBox Header="Inventory">
                    <Grid Margin="10" ColumnDefinitions="Auto">
                        <StackPanel Grid.Column="0">
                            <TextBlock FontWeight="Bold" Text="Equipped item" />
                            <UniformGrid Margin="5" Columns="1">
                                <TextBlock Text="{Binding EquippedItem, StringFormat='Slot 1: 0x{0:X2} ({0})'}" />
                            </UniformGrid>
                            <TextBlock FontWeight="Bold" Text="Main" />
                            <UniformGrid Margin="5" Columns="4">
                                <TextBlock Text="{Binding InventorySlot1, StringFormat='Slot 1: 0x{0:X2} ({0})'}" />
                                <TextBlock Text="{Binding InventorySlot2, StringFormat='Slot 2: 0x{0:X2} ({0})'}" />
                                <TextBlock Text="{Binding InventorySlot3, StringFormat='Slot 3: 0x{0:X2} ({0})'}" />
                                <TextBlock Text="{Binding InventorySlot4, StringFormat='Slot 4: 0x{0:X2} ({0})'}" />
                            </UniformGrid>
                            <TextBlock FontWeight="Bold" Text="Special item" />
                            <UniformGrid Margin="5" Columns="1">
                                <TextBlock Text="{Binding SpecialItem, StringFormat='Slot 1: 0x{0:X2} ({0})'}" />
                            </UniformGrid>
                            <TextBlock FontWeight="Bold" Text="Special" />
                            <UniformGrid Margin="5" Columns="4">
                                <TextBlock Text="{Binding SpecialInventorySlot1, StringFormat='Slot 1: 0x{0:X2} ({0})'}" />
                                <TextBlock Text="{Binding SpecialInventorySlot2, StringFormat='Slot 2: 0x{0:X2} ({0})'}" />
                                <TextBlock Text="{Binding SpecialInventorySlot3, StringFormat='Slot 3: 0x{0:X2} ({0})'}" />
                                <TextBlock Text="{Binding SpecialInventorySlot4, StringFormat='Slot 4: 0x{0:X2} ({0})'}" />
                            </UniformGrid>
                        </StackPanel>
                    </Grid>
                </suki:GroupBox>

                <!--  Position  -->
                <suki:GroupBox Header="Position">
                    <Grid ColumnDefinitions="Auto" RowDefinitions="Auto,Auto,Auto">
                        <TextBlock
                            Grid.Row="0"
                            Grid.Column="0"
                            Text="{Binding PositionX, StringFormat='X: {0}'}" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.Column="0"
                            Text="{Binding PositionY, StringFormat='Y: {0}'}" />
                        <TextBlock
                            Grid.Row="2"
                            Grid.Column="0"
                            Text="{Binding RoomName, StringFormat='Room name: {0}'}" />
                    </Grid>
                </suki:GroupBox>
            </StackPanel>
        </suki:GroupBox>
    </suki:GlassCard>
</UserControl>