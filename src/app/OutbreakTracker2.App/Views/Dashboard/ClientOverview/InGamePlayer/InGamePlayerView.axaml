<UserControl
    x:Class="OutbreakTracker2.App.Views.Dashboard.ClientOverview.InGamePlayer.InGamePlayerView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:suki="clr-namespace:SukiUI.Controls;assembly=SukiUI"
    xmlns:inGamePlayer="clr-namespace:OutbreakTracker2.App.Views.Dashboard.ClientOverview.InGamePlayer"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="inGamePlayer:InGamePlayerViewModel"
    mc:Ignorable="d">

    <suki:GlassCard Margin="5" Padding="10">
        <suki:GroupBox Header="{Binding CharacterName}">
            <StackPanel Spacing="10">
                
                <!-- Health & Virus Section -->
                <Grid ColumnDefinitions="Auto, Auto" Margin="0,0,0,10">
                    
                    <!-- Health -->
                    <suki:GroupBox Grid.Column="0" Header="Health Gauge" Margin="5">
                        <suki:WaveProgress
                            Margin="5"
                            Classes="Success"
                            IsTextVisible="True"
                            Value="{Binding HealthPercentage}" />
                    </suki:GroupBox>
                    
                    <!-- Virus -->
                    <suki:GroupBox Grid.Column="1" Header="Virus Gauge" Margin="5">
                        <suki:WaveProgress
                            Margin="5"
                            Classes="Danger"
                            IsTextVisible="True"
                            Value="{Binding VirusPercentage}" />
                    </suki:GroupBox>
                </Grid>

                <!-- Status Badges -->
                <WrapPanel HorizontalAlignment="Left" Margin="5">
                    <ContentControl Content="{Binding ConditionBadge}" />
                    <ContentControl Content="{Binding StatusBadge}" />
                </WrapPanel>

                <!-- Core Stats -->
                <suki:GroupBox Header="Character Status">
                    <Grid ColumnDefinitions="Auto" Margin="10" RowDefinitions="Auto,Auto,Auto">
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding BleedTime, StringFormat='Bleed Time: {0}'}" />
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding AntiVirusTime, StringFormat='Antivirus Time: {0}'}"/>
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="{Binding HerbTime, StringFormat='Herb Time: {0}'}" />
                    </Grid>
                </suki:GroupBox>

                <!-- Attributes & Combat -->
                <suki:GroupBox Header="Attributes" >               
                    <Grid ColumnDefinitions="Auto" Margin="10" RowDefinitions="Auto">
                        <StackPanel>
                            <TextBlock Text="{Binding Power, StringFormat='Power: {0:F1}'}"/>
                            <TextBlock Text="{Binding CritBonus, StringFormat='Crit Bonus: {0:F2}x'}"/>                           
                            <TextBlock Text="{Binding Speed, StringFormat='Speed: {0:F1}'}"/>
                            <TextBlock Text="{Binding Size, StringFormat='Size: {0:F1}'}"/>
                        </StackPanel>
                    </Grid>                   
                </suki:GroupBox>

                <!-- Inventory -->
                <suki:GroupBox Header="Inventory">
                    <Grid ColumnDefinitions="Auto" Margin="10">
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Main" FontWeight="Bold"/>
                                <UniformGrid Columns="7" Margin="5">
                                    <TextBlock Text="{Binding InventorySlot1, StringFormat='Slot 1: 0x{0:X2}'}"/>
                                    <TextBlock Text="{Binding InventorySlot2, StringFormat='Slot 2: 0x{0:X2}'}"/>
                                    <TextBlock Text="{Binding InventorySlot3, StringFormat='Slot 3: 0x{0:X2}'}"/>
                                    <TextBlock Text="{Binding InventorySlot4, StringFormat='Slot 4: 0x{0:X2}'}"/>
                                    <TextBlock Text="{Binding EquippedItem, StringFormat='Equipped item: 0x{0:X2}'}"/>
                                    <TextBlock Text="{Binding SpecialItem, StringFormat='Special: 0x{0:X2}'}"/>
                                    <TextBlock Text="{Binding CindyBag, StringFormat='Cindy Bag: 0x{0:X2}'}"/>
                                </UniformGrid>
                            </StackPanel>
                    </Grid>
                </suki:GroupBox>

                <!-- Position -->
                <suki:GroupBox Header="Position">
                    <Grid ColumnDefinitions="Auto" RowDefinitions="Auto,Auto,Auto">
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding PositionX, StringFormat='X: {0}'}"/>
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding PositionY, StringFormat='Y: {0}'}"/>
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="{Binding RoomName, StringFormat='Location: {0}'}"/>
                    </Grid>
                </suki:GroupBox>
            </StackPanel>
        </suki:GroupBox>
    </suki:GlassCard>
</UserControl>