<UserControl
    x:Class="OutbreakTracker2.App.Views.Dashboard.ClientOverview.InGamePlayer.InGamePlayerView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:inGamePlayer="clr-namespace:OutbreakTracker2.App.Views.Dashboard.ClientOverview.InGamePlayer"
    xmlns:inventory="clr-namespace:OutbreakTracker2.App.Views.Dashboard.ClientOverview.Inventory"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:suki="clr-namespace:SukiUI.Controls;assembly=SukiUI"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="inGamePlayer:InGamePlayerViewModel"
    mc:Ignorable="d">

    <suki:GroupBox Header="{Binding CharacterName}">
        <StackPanel Spacing="10">
            <StackPanel>
                <suki:GroupBox Margin="5" Header="Health Gauge">
                    <ProgressBar
                        IsIndeterminate="False"
                        ShowProgressText="True"
                        Value="{Binding HealthPercentage}" />
                </suki:GroupBox>
                <suki:GroupBox Margin="5" Header="Virus Gauge">
                    <ProgressBar
                        IsIndeterminate="False"
                        ShowProgressText="True"
                        Value="{Binding VirusPercentage}" />
                </suki:GroupBox>
            </StackPanel>

            <WrapPanel Margin="5" HorizontalAlignment="Left">
                 <suki:InfoBar
                     Title="{Binding ConditionTitle}"
                     Message="{Binding ConditionMessage}"
                     Severity="{Binding ConditionSeverity}"
                     IsOpen="{Binding IsConditionVisible}"
                     IsClosable="False"
                     Margin="0,0,5,0"/> <suki:InfoBar
                     Title="{Binding StatusTitle}"
                     Message="{Binding StatusMessage}"
                     Severity="{Binding StatusSeverity}"
                     IsOpen="{Binding IsStatusVisible}"
                     IsClosable="False"/>
            </WrapPanel>

            <Expander ExpandDirection="Down" Header="Status">
                <Grid
                    Margin="10"
                    ColumnDefinitions="Auto"
                    RowDefinitions="Auto,Auto,Auto,Auto">
                    <TextBlock
                        Grid.Row="0" Grid.Column="0"
                        Text="{Binding BleedTime, StringFormat='Bleed effect time: {0}'}" />
                    <TextBlock
                         Grid.Row="1" Grid.Column="0"
                        Text="{Binding AntiVirusTime, StringFormat='Antivirus T effect time: {0}'}" />
                    <TextBlock
                         Grid.Row="2" Grid.Column="0"
                        Text="{Binding AntiVirusGTime, StringFormat='Antivirus G effect time: {0}'}" />
                    <TextBlock
                         Grid.Row="3" Grid.Column="0"
                        Text="{Binding HerbTime, StringFormat='Healing item effect time: {0}'}" />
                </Grid>
            </Expander>
            <Expander ExpandDirection="Down" Header="Attributes">
                <Grid Margin="10" ColumnDefinitions="Auto" RowDefinitions="Auto">
                    <StackPanel>
                        <TextBlock Text="{Binding Power, StringFormat='Power: {0:F1}'}" />
                        <TextBlock Text="{Binding CritBonus, StringFormat='Crit Bonus: {0:F2}x'}" />
                        <TextBlock Text="{Binding Speed, StringFormat='Speed: {0:F1}'}" />
                        <TextBlock Text="{Binding Size, StringFormat='Size: {0:F1}'}" />
                    </StackPanel>
                </Grid>
            </Expander>
            <Expander ExpandDirection="Down" Header="Inventory">
                <ContentControl Content="{Binding Inventory}">
                    <ContentControl.DataTemplates>
                        <DataTemplate DataType="{x:Type inventory:InventoryViewModel}">
                            <inventory:InventoryView />
                        </DataTemplate>
                    </ContentControl.DataTemplates>
                </ContentControl>
            </Expander>
            <Expander ExpandDirection="Down" Header="Position">
                <Grid ColumnDefinitions="Auto" RowDefinitions="Auto,Auto,Auto">
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding PositionX, StringFormat='X: {0}'}" />
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding PositionY, StringFormat='Y: {0}'}" />
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="{Binding RoomName, StringFormat='Room name: {0}'}" />
                </Grid>
            </Expander>
        </StackPanel>
    </suki:GroupBox>
</UserControl>